{"version":3,"sources":["components/Library.js","components/Header.js","App.js","index.js"],"names":["Library","useState","bookName","setBookName","bookAuthor","setBookAuthor","booksArr","setBooksArr","getBooks","a","axios","get","response","data","books","error","alert","message","submitHandler","event","preventDefault","post","title","author","console","log","removeBook","index","delete","_id","availableHandler","available","put","useEffect","Fragment","className","onSubmit","e","htmlFor","id","name","type","placeholder","maxLength","onChange","target","value","required","colSpan","map","item","toString","onClick","Header","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wRAGe,SAASA,IAAW,IAAD,EACAC,mBAAS,IADT,mBACzBC,EADyB,KACfC,EADe,OAEIF,mBAAS,IAFb,mBAEzBG,EAFyB,KAEbC,EAFa,OAGAJ,mBAAS,IAHT,mBAGzBK,EAHyB,KAGfC,EAHe,KAK1BC,EAAQ,uCAAG,4BAAAC,EAAA,sEACQC,IAAMC,IAAI,+BADlB,OACTC,EADS,OAEf,IACEL,EAAYK,EAASC,KAAKC,OAC1B,MAAOC,GACPC,MAAMD,EAAME,SALC,2CAAH,qDASRC,EAAa,uCAAG,WAAOC,GAAP,SAAAV,EAAA,yDACpBU,EAAMC,kBACFlB,IAAYE,EAFI,0CAIVM,IAAMW,KAAK,8BAA+B,CAC9CC,MAAOpB,EACPqB,OAAQnB,IANM,uDAShBY,MAAM,uCACNQ,QAAQC,IAAI,KAAMR,SAVF,gCAYI,KAAbf,GAAkC,KAAfE,GAC5BY,MAAM,oCAbY,yDAAH,sDAiBbU,EAAU,uCAAG,WAAOC,GAAP,SAAAlB,EAAA,0DACbH,EADa,yCAGPI,IAAMkB,OAAN,sCAC2BtB,EAASqB,GAAOE,MAJpC,sDAObb,MAAM,KAAMC,SAPC,wDAAH,sDAYVa,EAAgB,uCAAG,WAAOH,EAAOI,GAAd,SAAAtB,EAAA,mEAEH,IAAdsB,EAFiB,gCAGbrB,IAAMsB,IAAN,sCAAyC1B,EAASqB,GAAOE,KAAO,CACpEE,UAAW,UAJM,iCAMI,IAAdA,EANU,gCAObrB,IAAMsB,IAAN,sCAAyC1B,EAASqB,GAAOE,KAAO,CACpEE,UAAW,SARM,yDAYrBf,MAAM,KAAMC,SAZS,0DAAH,wDAoBtB,OAJAgB,qBAAU,WACRzB,OAIA,eAAC,IAAM0B,SAAP,WACE,uBAAMC,UAAU,WAAWC,SAAU,SAACC,GAAD,OAAOnB,EAAcmB,IAA1D,UACE,uBAAOC,QAAQ,WAAf,mBACA,uBACEC,GAAG,WACHC,KAAK,WACLC,KAAK,OACLC,YAAY,QACZC,UAAU,KACVC,SAAU,SAACP,GAAD,OAAOlC,EAAYkC,EAAEQ,OAAOC,QACtCC,UAAQ,IAEV,uBAAOT,QAAQ,aAAf,oBACA,uBACEC,GAAG,aACHC,KAAK,aACLC,KAAK,OACLC,YAAY,SACZC,UAAU,KACVC,SAAU,SAACP,GAAD,OAAOhC,EAAcgC,EAAEQ,OAAOC,QACxCC,UAAQ,IAEV,uBAAOR,GAAG,SAASE,KAAK,SAASK,MAAM,oBAGzC,gCACE,kCACE,+BACE,2CACA,6CACA,2DACA,oBAAIE,QAAQ,IAAZ,yBAED1C,EACGA,EAAS2C,KAAI,SAACC,EAAMvB,GAClB,OACE,+BACE,6BAAKuB,EAAK5B,QACV,6BAAK4B,EAAK3B,SACV,6BAAK2B,EAAKnB,UAAUoB,aACpB,qBAAIZ,GAAG,WAAP,UACE,wBACEa,QAAS,kBAAMtB,EAAiBH,EAAOuB,EAAKnB,YAD9C,UAGsB,IAAnBmB,EAAKnB,UAAqB,YAAc,aAG3C,wBAAQqB,QAAS,kBAAM1B,EAAWC,IAAlC,yBAXKA,MAgBb,aCrHC,SAAS0B,IACtB,OACE,oBAAIlB,UAAU,SAAd,SACE,qDCQSmB,MATf,WACE,OACE,sBAAKnB,UAAU,MAAf,UACE,cAACkB,EAAD,IACA,cAACrD,EAAD,QCHNuD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.27ba6ba7.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport default function Library() {\n  const [bookName, setBookName] = useState('');\n  const [bookAuthor, setBookAuthor] = useState('');\n  const [booksArr, setBooksArr] = useState([]);\n\n  const getBooks = async () => {\n    const response = await axios.get('http://localhost:8000/books');\n    try {\n      setBooksArr(response.data.books);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const submitHandler = async (event) => {\n    event.preventDefault();\n    if (bookName && bookAuthor) {\n      try {\n        await axios.post('http://localhost:8000/books', {\n          title: bookName,\n          author: bookAuthor,\n        });\n      } catch (error) {\n        alert('This book is already in the library');\n        console.log(error.message);\n      }\n    } else if (bookName === '' || bookAuthor === '') {\n      alert('No book name or author specified');\n    }\n  };\n\n  const removeBook = async (index) => {\n    if (booksArr) {\n      try {\n        await axios.delete(\n          `http://localhost:8000/books/${booksArr[index]._id}`\n        );\n      } catch (error) {\n        alert(error.message);\n      }\n    }\n  };\n\n  const availableHandler = async (index, available) => {\n    try {\n      if (available === true) {\n        await axios.put(`http://localhost:8000/books/${booksArr[index]._id}`, {\n          available: 'false',\n        });\n      } else if (available === false) {\n        await axios.put(`http://localhost:8000/books/${booksArr[index]._id}`, {\n          available: 'true',\n        });\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  useEffect(() => {\n    getBooks();\n  });\n\n  return (\n    <React.Fragment>\n      <form className=\"bookForm\" onSubmit={(e) => submitHandler(e)}>\n        <label htmlFor=\"bookName\">Title</label>\n        <input\n          id=\"bookName\"\n          name=\"bookName\"\n          type=\"text\"\n          placeholder=\"Title\"\n          maxLength=\"40\"\n          onChange={(e) => setBookName(e.target.value)}\n          required\n        ></input>\n        <label htmlFor=\"bookAuthor\">Author</label>\n        <input\n          id=\"bookAuthor\"\n          name=\"bookAuthor\"\n          type=\"text\"\n          placeholder=\"Author\"\n          maxLength=\"30\"\n          onChange={(e) => setBookAuthor(e.target.value)}\n          required\n        ></input>\n        <input id=\"submit\" type=\"submit\" value=\"ADD NEW BOOK\"></input>\n      </form>\n\n      <table>\n        <tbody>\n          <tr>\n            <th>Book Name</th>\n            <th>Book Author</th>\n            <th>Available (true || false)</th>\n            <th colSpan=\"2\">Settings</th>\n          </tr>\n          {booksArr\n            ? booksArr.map((item, index) => {\n                return (\n                  <tr key={index}>\n                    <td>{item.title}</td>\n                    <td>{item.author}</td>\n                    <td>{item.available.toString()}</td>\n                    <td id=\"settings\">\n                      <button\n                        onClick={() => availableHandler(index, item.available)}\n                      >\n                        {item.available === true ? 'Check out' : 'Check in'}\n                      </button>\n\n                      <button onClick={() => removeBook(index)}>Remove</button>\n                    </td>\n                  </tr>\n                );\n              })\n            : null}\n        </tbody>\n      </table>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\n\nexport default function Header() {\n  return (\n    <h1 className=\"Header\">\n      <p>library-management</p>\n    </h1>\n  );\n}\n","import './App.css';\nimport Library from './components/Library';\nimport Header from './components/Header';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Library />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}